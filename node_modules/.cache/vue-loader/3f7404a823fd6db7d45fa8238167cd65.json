{"remainingRequest":"/Users/yoel/Documents/ionic/citysearch/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/yoel/Documents/ionic/citysearch/src/components/CommonForm.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/yoel/Documents/ionic/citysearch/src/components/CommonForm.vue","mtime":1579002187886},{"path":"/Users/yoel/Documents/ionic/citysearch/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/yoel/Documents/ionic/citysearch/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/yoel/Documents/ionic/citysearch/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCgppbXBvcnQgQ2FyZCBmcm9tICIuLi9jb21wb25lbnRzL0NhcmQudnVlIgovLyBpbXBvcnQgVGl0bGUgZnJvbSAiLi4vY29tcG9uZW50cy9UaXRsZSI7CgpleHBvcnQgZGVmYXVsdCB7CiAgICBuYW1lOiAiQ29tbW9uIiwKICAgIGNvbXBvbmVudHM6IHsKICAgICAgICBDYXJkLAogICAgICAgIC8vIFRpdGxlCiAgICB9LAogICAgZGF0YSAoKXsKCiAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAgdGl0bGU6ICJSZWNoZXJjaGUgcGFyIGNvbW11bmUiLAogICAgICAgICAgICBjaXR5IDogIiIsCiAgICAgICAgICAgIHJlc3VsdDogIiIsCiAgICAgICAgfQogICAgfSwKCiAgICBtZXRob2RzOiB7CiAgICAgICAgc2VhcmNoKCl7CiAgICAgICAgICAgIGZldGNoKCdodHRwczovL2dlby5hcGkuZ291di5mci9jb21tdW5lcz9ub209Jyt0aGlzLmNpdHkrJyZmaWVsZHM9ZGVwYXJ0ZW1lbnQmYm9vc3Q9cG9wdWxhdGlvbiZsaW1pdD01JywgewogICAgICAgICAgICB9KQogICAgICAgICAgICAgICAgLnRoZW4oKHJlcykgPT4gcmVzLmpzb24oKSkKICAgICAgICAgICAgICAgIC50aGVuKChkYXRhKSA9PiB7CiAgICAgICAgICAgICAgICAgICAgaWYgKGRhdGEubGVuZ3RoID4gMCl7CiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucmVzdWx0ID0gZGF0YQogICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyh0aGlzLnJlc3VsdCkKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnByZXNlbnRBbGVydCgiQXVjdW4gcsOpc3VsdGF0IikKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9KQogICAgICAgICAgICAgICAgLmNhdGNoKChkYXRhKSA9PnsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5wcmVzZW50QWxlcnQoIlVuZSBlcnJldXIgZXN0IHN1cnZlbnVlIikKICAgICAgICAgICAgICAgIH0pCiAgICAgICAgfSwKICAgICAgICBwcmVzZW50QWxlcnQobXNnKSB7CiAgICAgICAgICAgIHJldHVybiB0aGlzLiRpb25pYy5hbGVydENvbnRyb2xsZXIKICAgICAgICAgICAgICAgIC5jcmVhdGUoewogICAgICAgICAgICAgICAgICAgIGhlYWRlcjogJ0FsZXJ0JywKICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBtc2csCiAgICAgICAgICAgICAgICAgICAgYnV0dG9uczogWydPSyddLAogICAgICAgICAgICAgICAgfSkKICAgICAgICAgICAgICAgIC50aGVuKGEgPT4gYS5wcmVzZW50KCkpCiAgICAgICAgfSwKCiAgICB9LAoKCn0K"},{"version":3,"sources":["CommonForm.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;AAsBA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;AAGA","file":"CommonForm.vue","sourceRoot":"src/components","sourcesContent":["<template>\n    <div>\n        <ion-item>\n            <ion-label position=\"floating\">Ionic c'est de la MERDE !!!!</ion-label>\n            <ion-input :value=\"city\" @input=\"city = $event.target.value\"></ion-input>\n        </ion-item>\n\n        <div class=\"ion-padding\">\n            <ion-button expand=\"block\" type=\"submit\" class=\"ion-no-margin\" @click=\"search\">Ca me fait chier</ion-button>\n        </div>\n\n        <Card v-for=\"(res , index) in result\"\n              :title=\"res.nom\"\n              :subtitle=\"res.departement ? res.departement.code : 'ressource indisponible'\"\n              :body=\"res.departement ? res.departement.nom : 'ressource indisponible'\"\n        />\n    </div>\n</template>\n\n\n<script>\n\n    import Card from \"../components/Card.vue\"\n    // import Title from \"../components/Title\";\n\n    export default {\n        name: \"Common\",\n        components: {\n            Card,\n            // Title\n        },\n        data (){\n\n            return {\n                title: \"Recherche par commune\",\n                city : \"\",\n                result: \"\",\n            }\n        },\n\n        methods: {\n            search(){\n                fetch('https://geo.api.gouv.fr/communes?nom='+this.city+'&fields=departement&boost=population&limit=5', {\n                })\n                    .then((res) => res.json())\n                    .then((data) => {\n                        if (data.length > 0){\n                            this.result = data\n                            console.log(this.result)\n                        }\n                        else {\n                            return this.presentAlert(\"Aucun rÃ©sultat\")\n                        }\n                    })\n                    .catch((data) =>{\n                        return this.presentAlert(\"Une erreur est survenue\")\n                    })\n            },\n            presentAlert(msg) {\n                return this.$ionic.alertController\n                    .create({\n                        header: 'Alert',\n                        message: msg,\n                        buttons: ['OK'],\n                    })\n                    .then(a => a.present())\n            },\n\n        },\n\n\n    }\n</script>"]}]}
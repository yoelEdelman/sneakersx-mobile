{"remainingRequest":"/Users/yoel/Documents/ionic/citysearch/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/yoel/Documents/ionic/citysearch/src/components/RegionForm.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/yoel/Documents/ionic/citysearch/src/components/RegionForm.vue","mtime":1579604947513},{"path":"/Users/yoel/Documents/ionic/citysearch/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/yoel/Documents/ionic/citysearch/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/yoel/Documents/ionic/citysearch/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCgppbXBvcnQgQ2FyZCBmcm9tICIuLi9jb21wb25lbnRzL0NhcmQudnVlIjsKLy8gaW1wb3J0IFRpdGxlIGZyb20gIi4uL2NvbXBvbmVudHMvSGVhZFRpdGxlIjsKLy8gaW1wb3J0IE5hdiBmcm9tICIuLi9jb21wb25lbnRzL05hdiIKZXhwb3J0IGRlZmF1bHQgewogICAgLy8gbmFtZTogImhvbWUiLAogICAgY29tcG9uZW50czogewogICAgICAgIENhcmQsCiAgICAgICAgLy8gVGl0bGUsCiAgICAgICAgLy8gTmF2CiAgICB9LAogICAgZGF0YSgpIHsKICAgICAgICByZXR1cm4gewogICAgICAgICAgICBwb3N0YWxDb2RlOiAiIiwKICAgICAgICAgICAgcmVzdWx0OiAiIiwKICAgICAgICB9CiAgICB9LAoKICAgIG1ldGhvZHM6IHsKICAgICAgICBzZWFyY2goKSB7CiAgICAgICAgICAgIGlmICh0aGlzLnBvc3RhbENvZGUubGVuZ3RoID09PSA1ICYmICFpc05hTih0aGlzLnBvc3RhbENvZGUpKSB7CiAgICAgICAgICAgICAgICBmZXRjaCgnaHR0cHM6Ly9nZW8uYXBpLmdvdXYuZnIvY29tbXVuZXM/Y29kZVBvc3RhbD0nICsgdGhpcy5wb3N0YWxDb2RlLCB7fSkKICAgICAgICAgICAgICAgICAgICAudGhlbigocmVzKSA9PiByZXMuanNvbigpKQogICAgICAgICAgICAgICAgICAgIC50aGVuKChkYXRhKSA9PiB7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkYXRhLmxlbmd0aCA+IDApIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucmVzdWx0ID0gZGF0YQogICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5wb3N0YWxDb2RlID0gIiIKCiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5wcmVzZW50QWxlcnQoIkF1Y3VuIHLDqXN1bHRhdCIpCiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9KQogICAgICAgICAgICAgICAgICAgIC5jYXRjaCgoZGF0YSkgPT4gewogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5wcmVzZW50QWxlcnQoInVuIGluY2lkZW50IHMnZXN0IHByb2R1aXQiKQogICAgICAgICAgICAgICAgICAgIH0pCiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5wcmVzZW50QWxlcnQoIkNvZGUgUG9zdGFsIGluY29ycmVjdCIpCiAgICAgICAgICAgIH0KICAgICAgICB9LAogICAgICAgIHByZXNlbnRBbGVydChtc2cpIHsKICAgICAgICAgICAgcmV0dXJuIHRoaXMuJGlvbmljLmFsZXJ0Q29udHJvbGxlcgogICAgICAgICAgICAgICAgLmNyZWF0ZSh7CiAgICAgICAgICAgICAgICAgICAgaGVhZGVyOiAnQWxlcnQnLAogICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IG1zZywKICAgICAgICAgICAgICAgICAgICBidXR0b25zOiBbJ09LJ10sCiAgICAgICAgICAgICAgICB9KQogICAgICAgICAgICAgICAgLnRoZW4oYSA9PiBhLnByZXNlbnQoKSkKICAgICAgICB9LAogICAgfSwKfQo="},{"version":3,"sources":["RegionForm.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;AA0BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"RegionForm.vue","sourceRoot":"src/components","sourcesContent":["<template>\n    <div class=\"home ion-page\">\n        <Title/>\n        <ion-content class=\"ion-padding\">\n            <ion-item>\n                <ion-label position=\"floating\">Entrer un code postal</ion-label>\n                <ion-input\n                        :value=\"postalCode\" @input=\"postalCode = $event.target.value\"\n                >\n\n                </ion-input>\n            </ion-item>\n            <ion-button style=\"width: 100%; margin-top: 20px\" color=\"primary\" @click=\"search\">Trouver</ion-button>\n\n            <Card v-for=\"(res , index) in result\"\n                  :title=\"res.nom\"\n                  :postCode=\"res.codesPostaux\"\n                  :body=\"`Population : ${res.population}`\"\n            />\n        </ion-content>\n        <Nav/>\n\n    </div>\n</template>\n<script>\n\n    import Card from \"../components/Card.vue\";\n    // import Title from \"../components/HeadTitle\";\n    // import Nav from \"../components/Nav\"\n    export default {\n        // name: \"home\",\n        components: {\n            Card,\n            // Title,\n            // Nav\n        },\n        data() {\n            return {\n                postalCode: \"\",\n                result: \"\",\n            }\n        },\n\n        methods: {\n            search() {\n                if (this.postalCode.length === 5 && !isNaN(this.postalCode)) {\n                    fetch('https://geo.api.gouv.fr/communes?codePostal=' + this.postalCode, {})\n                        .then((res) => res.json())\n                        .then((data) => {\n                            if (data.length > 0) {\n                                this.result = data\n                                this.postalCode = \"\"\n\n                            } else {\n                                return this.presentAlert(\"Aucun rÃ©sultat\")\n                            }\n                        })\n                        .catch((data) => {\n                            return this.presentAlert(\"un incident s'est produit\")\n                        })\n                } else {\n                    return this.presentAlert(\"Code Postal incorrect\")\n                }\n            },\n            presentAlert(msg) {\n                return this.$ionic.alertController\n                    .create({\n                        header: 'Alert',\n                        message: msg,\n                        buttons: ['OK'],\n                    })\n                    .then(a => a.present())\n            },\n        },\n    }\n</script>"]}]}
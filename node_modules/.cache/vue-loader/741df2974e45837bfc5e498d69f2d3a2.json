{"remainingRequest":"/Users/yoel/Documents/ionic/citysearch/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/yoel/Documents/ionic/citysearch/src/components/DepartmentsForm.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/yoel/Documents/ionic/citysearch/src/components/DepartmentsForm.vue","mtime":1579604756988},{"path":"/Users/yoel/Documents/ionic/citysearch/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/yoel/Documents/ionic/citysearch/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/yoel/Documents/ionic/citysearch/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBDYXJkIGZyb20gIi4uL2NvbXBvbmVudHMvQ2FyZCI7Ci8vIGltcG9ydCBUaXRsZSBmcm9tICIuLi9jb21wb25lbnRzL0hlYWRUaXRsZSI7Ci8vIGltcG9ydCBOYXYgZnJvbSAiLi4vY29tcG9uZW50cy9OYXYiOwpleHBvcnQgZGVmYXVsdCB7CiAgICBjb21wb25lbnRzOiB7CiAgICAgICAgQ2FyZCwKICAgICAgICAvLyBUaXRsZSwKICAgICAgICAvLyBOYXYKICAgIH0sCiAgICBkYXRhKCkgewoKICAgICAgICByZXR1cm4gewogICAgICAgICAgICBkZXBhcnRlbWVudDogIiIsCiAgICAgICAgICAgIHJlc3VsdDogIiIsCiAgICAgICAgfQogICAgfSwKICAgIG1ldGhvZHM6IHsKICAgICAgICBzZWFyY2goKXsKCiAgICAgICAgICAgIGlmICh0aGlzLmRlcGFydGVtZW50Lmxlbmd0aCA8PSAzICYmICFpc05hTih0aGlzLmRlcGFydGVtZW50KSl7CiAgICAgICAgICAgICAgICBmZXRjaCgnaHR0cHM6Ly9nZW8uYXBpLmdvdXYuZnIvZGVwYXJ0ZW1lbnRzLycrdGhpcy5kZXBhcnRlbWVudCsnL2NvbW11bmVzJywgewogICAgICAgICAgICAgICAgfSkKICAgICAgICAgICAgICAgICAgICAudGhlbigocmVzKSA9PiByZXMuanNvbigpKQogICAgICAgICAgICAgICAgICAgIC50aGVuKChkYXRhKSA9PiB7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkYXRhLmxlbmd0aCA+IDApewoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucmVzdWx0ID0gZGF0YQogICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2codGhpcy5yZXN1bHQpCiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgZWxzZXsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnByZXNlbnRBbGVydCgiQXVjdW4gcsOpc3VsdGF0IikKCiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9KQogICAgICAgICAgICAgICAgICAgIC5jYXRjaCgoZGF0YSkgPT57CiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnByZXNlbnRBbGVydCgidW4gaW5jaWRlbnQgcydlc3QgcHJvZHVpdCIpCiAgICAgICAgICAgICAgICAgICAgfSkKICAgICAgICAgICAgfQogICAgICAgICAgICBlbHNlewoKICAgICAgICAgICAgICAgIHJldHVybiAgdGhpcy5wcmVzZW50QWxlcnQoIkNvZGUgUG9zdGFsIGluY29ycmVjdCIpCgogICAgICAgICAgICB9CgogICAgICAgIH0sCgogICAgICAgIHByZXNlbnRBbGVydChtc2cpIHsKICAgICAgICAgICAgcmV0dXJuIHRoaXMuJGlvbmljLmFsZXJ0Q29udHJvbGxlcgogICAgICAgICAgICAgICAgLmNyZWF0ZSh7CiAgICAgICAgICAgICAgICAgICAgaGVhZGVyOiAnQWxlcnQnLAogICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IG1zZywKICAgICAgICAgICAgICAgICAgICBidXR0b25zOiBbJ09LJ10sCiAgICAgICAgICAgICAgICB9KQogICAgICAgICAgICAgICAgLnRoZW4oYSA9PiBhLnByZXNlbnQoKSkKICAgICAgICB9LAogICAgfSwKCn0K"},{"version":3,"sources":["DepartmentsForm.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;AA2BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA","file":"DepartmentsForm.vue","sourceRoot":"src/components","sourcesContent":["<template>\n    <div class=\"home ion-page\">\n        <Title/>\n\n        <ion-content class=\"ion-padding\">\n            <ion-item>\n                <ion-label position=\"floating\">Entrer un département (exemple : 75)</ion-label>\n                <ion-input\n                        :value=\"departement\" @input=\"departement = $event.target.value\"\n                >\n\n                </ion-input>\n            </ion-item>\n            <ion-button style=\"width: 100%; margin-top: 20px\" color=\"primary\" @click=\"search\">Trouver</ion-button>\n\n            <Card v-for=\"(res , index) in result\"\n                  :title=\"res.nom\"\n                  :subtitle=\"res.codeDepartement\"\n                  :body=\"`Population : ${res.population}`\"\n            />\n\n        </ion-content>\n<!--        <Nav/>-->\n    </div>\n</template>\n\n<script>\n    import Card from \"../components/Card\";\n    // import Title from \"../components/HeadTitle\";\n    // import Nav from \"../components/Nav\";\n    export default {\n        components: {\n            Card,\n            // Title,\n            // Nav\n        },\n        data() {\n\n            return {\n                departement: \"\",\n                result: \"\",\n            }\n        },\n        methods: {\n            search(){\n\n                if (this.departement.length <= 3 && !isNaN(this.departement)){\n                    fetch('https://geo.api.gouv.fr/departements/'+this.departement+'/communes', {\n                    })\n                        .then((res) => res.json())\n                        .then((data) => {\n                            if (data.length > 0){\n\n                                this.result = data\n                                console.log(this.result)\n                            }\n                            else{\n                                return this.presentAlert(\"Aucun résultat\")\n\n                            }\n                        })\n                        .catch((data) =>{\n                            return this.presentAlert(\"un incident s'est produit\")\n                        })\n                }\n                else{\n\n                    return  this.presentAlert(\"Code Postal incorrect\")\n\n                }\n\n            },\n\n            presentAlert(msg) {\n                return this.$ionic.alertController\n                    .create({\n                        header: 'Alert',\n                        message: msg,\n                        buttons: ['OK'],\n                    })\n                    .then(a => a.present())\n            },\n        },\n\n    }\n</script>"]}]}
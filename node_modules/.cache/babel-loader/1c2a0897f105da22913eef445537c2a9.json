{"remainingRequest":"/Users/yoel/Documents/ionic/citysearch/node_modules/babel-loader/lib/index.js!/Users/yoel/Documents/ionic/citysearch/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/yoel/Documents/ionic/citysearch/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/yoel/Documents/ionic/citysearch/src/components/RegionForm.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/yoel/Documents/ionic/citysearch/src/components/RegionForm.vue","mtime":1579604947513},{"path":"/Users/yoel/Documents/ionic/citysearch/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/yoel/Documents/ionic/citysearch/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/yoel/Documents/ionic/citysearch/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/yoel/Documents/ionic/citysearch/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZyI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCBDYXJkIGZyb20gIi4uL2NvbXBvbmVudHMvQ2FyZC52dWUiOyAvLyBpbXBvcnQgVGl0bGUgZnJvbSAiLi4vY29tcG9uZW50cy9IZWFkVGl0bGUiOwovLyBpbXBvcnQgTmF2IGZyb20gIi4uL2NvbXBvbmVudHMvTmF2IgoKZXhwb3J0IGRlZmF1bHQgewogIC8vIG5hbWU6ICJob21lIiwKICBjb21wb25lbnRzOiB7CiAgICBDYXJkOiBDYXJkIC8vIFRpdGxlLAogICAgLy8gTmF2CgogIH0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHBvc3RhbENvZGU6ICIiLAogICAgICByZXN1bHQ6ICIiCiAgICB9OwogIH0sCiAgbWV0aG9kczogewogICAgc2VhcmNoOiBmdW5jdGlvbiBzZWFyY2goKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICBpZiAodGhpcy5wb3N0YWxDb2RlLmxlbmd0aCA9PT0gNSAmJiAhaXNOYU4odGhpcy5wb3N0YWxDb2RlKSkgewogICAgICAgIGZldGNoKCdodHRwczovL2dlby5hcGkuZ291di5mci9jb21tdW5lcz9jb2RlUG9zdGFsPScgKyB0aGlzLnBvc3RhbENvZGUsIHt9KS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICAgIHJldHVybiByZXMuanNvbigpOwogICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKGRhdGEpIHsKICAgICAgICAgIGlmIChkYXRhLmxlbmd0aCA+IDApIHsKICAgICAgICAgICAgX3RoaXMucmVzdWx0ID0gZGF0YTsKICAgICAgICAgICAgX3RoaXMucG9zdGFsQ29kZSA9ICIiOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgcmV0dXJuIF90aGlzLnByZXNlbnRBbGVydCgiQXVjdW4gcsOpc3VsdGF0Iik7CiAgICAgICAgICB9CiAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGRhdGEpIHsKICAgICAgICAgIHJldHVybiBfdGhpcy5wcmVzZW50QWxlcnQoInVuIGluY2lkZW50IHMnZXN0IHByb2R1aXQiKTsKICAgICAgICB9KTsKICAgICAgfSBlbHNlIHsKICAgICAgICByZXR1cm4gdGhpcy5wcmVzZW50QWxlcnQoIkNvZGUgUG9zdGFsIGluY29ycmVjdCIpOwogICAgICB9CiAgICB9LAogICAgcHJlc2VudEFsZXJ0OiBmdW5jdGlvbiBwcmVzZW50QWxlcnQobXNnKSB7CiAgICAgIHJldHVybiB0aGlzLiRpb25pYy5hbGVydENvbnRyb2xsZXIuY3JlYXRlKHsKICAgICAgICBoZWFkZXI6ICdBbGVydCcsCiAgICAgICAgbWVzc2FnZTogbXNnLAogICAgICAgIGJ1dHRvbnM6IFsnT0snXQogICAgICB9KS50aGVuKGZ1bmN0aW9uIChhKSB7CiAgICAgICAgcmV0dXJuIGEucHJlc2VudCgpOwogICAgICB9KTsKICAgIH0KICB9Cn07"},{"version":3,"sources":["RegionForm.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;AA0BA,OAAA,IAAA,MAAA,wBAAA,C,CACA;AACA;;AACA,eAAA;AACA;AACA,EAAA,UAAA,EAAA;AACA,IAAA,IAAA,EAAA,IADA,CAEA;AACA;;AAHA,GAFA;AAOA,EAAA,IAPA,kBAOA;AACA,WAAA;AACA,MAAA,UAAA,EAAA,EADA;AAEA,MAAA,MAAA,EAAA;AAFA,KAAA;AAIA,GAZA;AAcA,EAAA,OAAA,EAAA;AACA,IAAA,MADA,oBACA;AAAA;;AACA,UAAA,KAAA,UAAA,CAAA,MAAA,KAAA,CAAA,IAAA,CAAA,KAAA,CAAA,KAAA,UAAA,CAAA,EAAA;AACA,QAAA,KAAA,CAAA,iDAAA,KAAA,UAAA,EAAA,EAAA,CAAA,CACA,IADA,CACA,UAAA,GAAA;AAAA,iBAAA,GAAA,CAAA,IAAA,EAAA;AAAA,SADA,EAEA,IAFA,CAEA,UAAA,IAAA,EAAA;AACA,cAAA,IAAA,CAAA,MAAA,GAAA,CAAA,EAAA;AACA,YAAA,KAAA,CAAA,MAAA,GAAA,IAAA;AACA,YAAA,KAAA,CAAA,UAAA,GAAA,EAAA;AAEA,WAJA,MAIA;AACA,mBAAA,KAAA,CAAA,YAAA,CAAA,gBAAA,CAAA;AACA;AACA,SAVA,EAWA,KAXA,CAWA,UAAA,IAAA,EAAA;AACA,iBAAA,KAAA,CAAA,YAAA,CAAA,2BAAA,CAAA;AACA,SAbA;AAcA,OAfA,MAeA;AACA,eAAA,KAAA,YAAA,CAAA,uBAAA,CAAA;AACA;AACA,KApBA;AAqBA,IAAA,YArBA,wBAqBA,GArBA,EAqBA;AACA,aAAA,KAAA,MAAA,CAAA,eAAA,CACA,MADA,CACA;AACA,QAAA,MAAA,EAAA,OADA;AAEA,QAAA,OAAA,EAAA,GAFA;AAGA,QAAA,OAAA,EAAA,CAAA,IAAA;AAHA,OADA,EAMA,IANA,CAMA,UAAA,CAAA;AAAA,eAAA,CAAA,CAAA,OAAA,EAAA;AAAA,OANA,CAAA;AAOA;AA7BA;AAdA,CAAA","sourcesContent":["<template>\n    <div class=\"home ion-page\">\n        <Title/>\n        <ion-content class=\"ion-padding\">\n            <ion-item>\n                <ion-label position=\"floating\">Entrer un code postal</ion-label>\n                <ion-input\n                        :value=\"postalCode\" @input=\"postalCode = $event.target.value\"\n                >\n\n                </ion-input>\n            </ion-item>\n            <ion-button style=\"width: 100%; margin-top: 20px\" color=\"primary\" @click=\"search\">Trouver</ion-button>\n\n            <Card v-for=\"(res , index) in result\"\n                  :title=\"res.nom\"\n                  :postCode=\"res.codesPostaux\"\n                  :body=\"`Population : ${res.population}`\"\n            />\n        </ion-content>\n        <Nav/>\n\n    </div>\n</template>\n<script>\n\n    import Card from \"../components/Card.vue\";\n    // import Title from \"../components/HeadTitle\";\n    // import Nav from \"../components/Nav\"\n    export default {\n        // name: \"home\",\n        components: {\n            Card,\n            // Title,\n            // Nav\n        },\n        data() {\n            return {\n                postalCode: \"\",\n                result: \"\",\n            }\n        },\n\n        methods: {\n            search() {\n                if (this.postalCode.length === 5 && !isNaN(this.postalCode)) {\n                    fetch('https://geo.api.gouv.fr/communes?codePostal=' + this.postalCode, {})\n                        .then((res) => res.json())\n                        .then((data) => {\n                            if (data.length > 0) {\n                                this.result = data\n                                this.postalCode = \"\"\n\n                            } else {\n                                return this.presentAlert(\"Aucun rÃ©sultat\")\n                            }\n                        })\n                        .catch((data) => {\n                            return this.presentAlert(\"un incident s'est produit\")\n                        })\n                } else {\n                    return this.presentAlert(\"Code Postal incorrect\")\n                }\n            },\n            presentAlert(msg) {\n                return this.$ionic.alertController\n                    .create({\n                        header: 'Alert',\n                        message: msg,\n                        buttons: ['OK'],\n                    })\n                    .then(a => a.present())\n            },\n        },\n    }\n</script>"],"sourceRoot":"src/components"}]}